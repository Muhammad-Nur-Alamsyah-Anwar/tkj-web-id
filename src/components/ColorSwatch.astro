---
interface Props {
  class?: string;
  color?: string;
  gradient?: boolean;
  type?: 'rect' | 'circle';
}

const { class: className, color, gradient, type = 'rect' } = Astro.props;

const colorMap: Record<string, string> = {
  'orange-500': '#f97316',
  'blue-600': '#2563eb',
  'green-600': '#16a34a',
  'amber-700': '#b45309',
  'amber-800': '#92400e',
  'gray-500': '#6b7280',
  'white': '#ffffff',
  'red-600': '#dc2626',
  'black': '#000000',
  'yellow-400': '#facc15',
  'purple-600': '#9333ea',
  'pink-400': '#f472b6',
  'teal-400': '#2dd4bf',
};

const hex = color ? colorMap[color] || color : '#ccc';

// Determine background style
let bgStyle = {};
if (gradient) {
  bgStyle = { background: `linear-gradient(to right, white, ${hex}, white)` };
} else {
  bgStyle = { backgroundColor: hex };
}

// Explicit inline styles for reliability
const style = {
  display: 'inline-block',
  verticalAlign: 'middle',
  border: '1px solid #9ca3af', // gray-400
  width: '2rem', // w-8
  height: type === 'circle' ? '2rem' : '1rem', // h-8 or h-4
  borderRadius: type === 'circle' ? '50%' : '0',
  ...bgStyle
};

---

<div style={style} class={className}></div>